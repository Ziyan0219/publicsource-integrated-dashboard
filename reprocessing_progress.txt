=== REPROCESSING STARTED ===
Starting story reprocessing with enhanced geographic algorithm...
OPTIMIZED VERSION - Classifier initialized once and reused

Loaded geographic database: 90 neighborhoods, 127 municipalities
Initializing advanced geographic classifier (this may take a moment)...
Classifier initialized successfully!

Loaded 4500 existing stories
Processing story 1/4500...
Processing story 10/4500...
Processing story 20/4500...
Processing story 30/4500...
Processing story 40/4500...
Processing story 50/4500...
Processing story 60/4500...
Processing story 70/4500...
Processing story 80/4500...
Processing story 90/4500...
Processing story 100/4500...
Processing story 110/4500...
Processing story 120/4500...
Processing story 130/4500...
Processing story 140/4500...
Processing story 150/4500...
Processing story 160/4500...
Processing story 170/4500...
Processing story 180/4500...
Processing story 190/4500...
Processing story 200/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1 to 200
======================================================================
Processed: 200/4500 stories (4.4%)
Improved in this batch: 142/200 stories
Total improvements so far: 142/200 (71.0%)
Batch processing time: 116.6s (0.58s per story)
Estimated remaining time: 41.8 minutes
======================================================================

Processing story 210/4500...
Processing story 220/4500...
Processing story 230/4500...
Processing story 240/4500...
Processing story 250/4500...
Processing story 260/4500...
Processing story 270/4500...
Processing story 280/4500...
Processing story 290/4500...
Processing story 300/4500...
Processing story 310/4500...
Processing story 320/4500...
Processing story 330/4500...
Processing story 340/4500...
Processing story 350/4500...
Processing story 360/4500...
Processing story 370/4500...
Processing story 380/4500...
Processing story 390/4500...
Processing story 400/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 201 to 400
======================================================================
Processed: 400/4500 stories (8.9%)
Improved in this batch: 198/200 stories
Total improvements so far: 340/400 (85.0%)
Batch processing time: 33.0s (0.17s per story)
Estimated remaining time: 11.3 minutes
======================================================================

Processing story 410/4500...
Processing story 420/4500...
Processing story 430/4500...
Processing story 440/4500...
Processing story 450/4500...
Processing story 460/4500...
Processing story 470/4500...
Processing story 480/4500...
Processing story 490/4500...
Processing story 500/4500...
Processing story 510/4500...
Processing story 520/4500...
Processing story 530/4500...
Processing story 540/4500...
Processing story 550/4500...
Processing story 560/4500...
Processing story 570/4500...
Processing story 580/4500...
Processing story 590/4500...
Processing story 600/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 401 to 600
======================================================================
Processed: 600/4500 stories (13.3%)
Improved in this batch: 194/200 stories
Total improvements so far: 534/600 (89.0%)
Batch processing time: 31.7s (0.16s per story)
Estimated remaining time: 10.3 minutes
======================================================================

Processing story 610/4500...
Processing story 620/4500...
Processing story 630/4500...
Processing story 640/4500...
Processing story 650/4500...
Processing story 660/4500...
Processing story 670/4500...
Processing story 680/4500...
Processing story 690/4500...
Processing story 700/4500...
Processing story 710/4500...
Processing story 720/4500...
Processing story 730/4500...
Processing story 740/4500...
Processing story 750/4500...
Processing story 760/4500...
Processing story 770/4500...
Processing story 780/4500...
Processing story 790/4500...
Processing story 800/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 601 to 800
======================================================================
Processed: 800/4500 stories (17.8%)
Improved in this batch: 192/200 stories
Total improvements so far: 726/800 (90.8%)
Batch processing time: 122.0s (0.61s per story)
Estimated remaining time: 37.6 minutes
======================================================================

Processing story 810/4500...
Processing story 820/4500...
Processing story 830/4500...
Processing story 840/4500...
Processing story 850/4500...
Processing story 860/4500...
Processing story 870/4500...
Processing story 880/4500...
Processing story 890/4500...
Processing story 900/4500...
Processing story 910/4500...
Processing story 920/4500...
Processing story 930/4500...
Processing story 940/4500...
Processing story 950/4500...
Processing story 960/4500...
Processing story 970/4500...
Processing story 980/4500...
Processing story 990/4500...
Processing story 1000/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 801 to 1000
======================================================================
Processed: 1000/4500 stories (22.2%)
Improved in this batch: 199/200 stories
Total improvements so far: 925/1000 (92.5%)
Batch processing time: 263.2s (1.32s per story)
Estimated remaining time: 76.8 minutes
======================================================================

Processing story 1010/4500...
Processing story 1020/4500...
Processing story 1030/4500...
Processing story 1040/4500...
Processing story 1050/4500...
Processing story 1060/4500...
Processing story 1070/4500...
Processing story 1080/4500...
Processing story 1090/4500...
Processing story 1100/4500...
Processing story 1110/4500...
Processing story 1120/4500...
Processing story 1130/4500...
Processing story 1140/4500...
Processing story 1150/4500...
Processing story 1160/4500...
Processing story 1170/4500...
Processing story 1180/4500...
Processing story 1190/4500...
Processing story 1200/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1001 to 1200
======================================================================
Processed: 1200/4500 stories (26.7%)
Improved in this batch: 155/200 stories
Total improvements so far: 1080/1200 (90.0%)
Batch processing time: 305.5s (1.53s per story)
Estimated remaining time: 84.0 minutes
======================================================================

Processing story 1210/4500...
Processing story 1220/4500...
Processing story 1230/4500...
Processing story 1240/4500...
Processing story 1250/4500...
Processing story 1260/4500...
Processing story 1270/4500...
Processing story 1280/4500...
Processing story 1290/4500...
Processing story 1300/4500...
Processing story 1310/4500...
Processing story 1320/4500...
Processing story 1330/4500...
Processing story 1340/4500...
Processing story 1350/4500...
Processing story 1360/4500...
Processing story 1370/4500...
Processing story 1380/4500...
Processing story 1390/4500...
Processing story 1400/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1201 to 1400
======================================================================
Processed: 1400/4500 stories (31.1%)
Improved in this batch: 194/200 stories
Total improvements so far: 1274/1400 (91.0%)
Batch processing time: 305.8s (1.53s per story)
Estimated remaining time: 79.0 minutes
======================================================================

Processing story 1410/4500...
Processing story 1420/4500...
Processing story 1430/4500...
Processing story 1440/4500...
Processing story 1450/4500...
Processing story 1460/4500...
Processing story 1470/4500...
Processing story 1480/4500...
Processing story 1490/4500...
Processing story 1500/4500...
Processing story 1510/4500...
Processing story 1520/4500...
Processing story 1530/4500...
Processing story 1540/4500...
Processing story 1550/4500...
Processing story 1560/4500...
Processing story 1570/4500...
Processing story 1580/4500...
Processing story 1590/4500...
Processing story 1600/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1401 to 1600
======================================================================
Processed: 1600/4500 stories (35.6%)
Improved in this batch: 179/200 stories
Total improvements so far: 1453/1600 (90.8%)
Batch processing time: 316.2s (1.58s per story)
Estimated remaining time: 76.4 minutes
======================================================================

Processing story 1610/4500...
Processing story 1620/4500...
Processing story 1630/4500...
Processing story 1640/4500...
Processing story 1650/4500...
Processing story 1660/4500...
Processing story 1670/4500...
Processing story 1680/4500...
Processing story 1690/4500...
Processing story 1700/4500...
Processing story 1710/4500...
Processing story 1720/4500...
Processing story 1730/4500...
Processing story 1740/4500...
Processing story 1750/4500...
Processing story 1760/4500...
Processing story 1770/4500...
Processing story 1780/4500...
Processing story 1790/4500...
Processing story 1800/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1601 to 1800
======================================================================
Processed: 1800/4500 stories (40.0%)
Improved in this batch: 160/200 stories
Total improvements so far: 1613/1800 (89.6%)
Batch processing time: 304.7s (1.52s per story)
Estimated remaining time: 68.6 minutes
======================================================================

Processing story 1810/4500...
Processing story 1820/4500...
Processing story 1830/4500...
Processing story 1840/4500...
Processing story 1850/4500...
Processing story 1860/4500...
Processing story 1870/4500...
Processing story 1880/4500...
Processing story 1890/4500...
Processing story 1900/4500...
Processing story 1910/4500...
Processing story 1920/4500...
Processing story 1930/4500...
Processing story 1940/4500...
Processing story 1950/4500...
Processing story 1960/4500...
Processing story 1970/4500...
Processing story 1980/4500...
Processing story 1990/4500...
Processing story 2000/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 1801 to 2000
======================================================================
Processed: 2000/4500 stories (44.4%)
Improved in this batch: 178/200 stories
Total improvements so far: 1791/2000 (89.5%)
Batch processing time: 330.2s (1.65s per story)
Estimated remaining time: 68.8 minutes
======================================================================

Processing story 2010/4500...
Processing story 2020/4500...
Processing story 2030/4500...
Processing story 2040/4500...
Processing story 2050/4500...
Processing story 2060/4500...
Processing story 2070/4500...
Processing story 2080/4500...
Processing story 2090/4500...
Processing story 2100/4500...
Processing story 2110/4500...
Processing story 2120/4500...
Processing story 2130/4500...
Processing story 2140/4500...
Processing story 2150/4500...
Processing story 2160/4500...
Processing story 2170/4500...
Processing story 2180/4500...
Processing story 2190/4500...
Processing story 2200/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 2001 to 2200
======================================================================
Processed: 2200/4500 stories (48.9%)
Improved in this batch: 167/200 stories
Total improvements so far: 1958/2200 (89.0%)
Batch processing time: 338.9s (1.69s per story)
Estimated remaining time: 65.0 minutes
======================================================================

Processing story 2210/4500...
Processing story 2220/4500...
Processing story 2230/4500...
Processing story 2240/4500...
Processing story 2250/4500...
Processing story 2260/4500...
Processing story 2270/4500...
Processing story 2280/4500...
Processing story 2290/4500...
Processing story 2300/4500...
Processing story 2310/4500...
Processing story 2320/4500...
Processing story 2330/4500...
Processing story 2340/4500...
Processing story 2350/4500...
Processing story 2360/4500...
Processing story 2370/4500...
Processing story 2380/4500...
Processing story 2390/4500...
Processing story 2400/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 2201 to 2400
======================================================================
Processed: 2400/4500 stories (53.3%)
Improved in this batch: 176/200 stories
Total improvements so far: 2134/2400 (88.9%)
Batch processing time: 305.2s (1.53s per story)
Estimated remaining time: 53.4 minutes
======================================================================

Processing story 2410/4500...
Processing story 2420/4500...
Processing story 2430/4500...
Processing story 2440/4500...
Processing story 2450/4500...
Processing story 2460/4500...
Processing story 2470/4500...
Processing story 2480/4500...
Processing story 2490/4500...
Processing story 2500/4500...
Processing story 2510/4500...
Processing story 2520/4500...
Processing story 2530/4500...
Processing story 2540/4500...
Processing story 2550/4500...
Processing story 2560/4500...
Processing story 2570/4500...
Processing story 2580/4500...
Processing story 2590/4500...
Processing story 2600/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 2401 to 2600
======================================================================
Processed: 2600/4500 stories (57.8%)
Improved in this batch: 180/200 stories
Total improvements so far: 2314/2600 (89.0%)
Batch processing time: 317.8s (1.59s per story)
Estimated remaining time: 50.3 minutes
======================================================================

Processing story 2610/4500...
Processing story 2620/4500...
Processing story 2630/4500...
Processing story 2640/4500...
Processing story 2650/4500...
Processing story 2660/4500...
Processing story 2670/4500...
Processing story 2680/4500...
Processing story 2690/4500...
Processing story 2700/4500...
Processing story 2710/4500...
Processing story 2720/4500...
Processing story 2730/4500...
Processing story 2740/4500...
Processing story 2750/4500...
Processing story 2760/4500...
Processing story 2770/4500...
Processing story 2780/4500...
Processing story 2790/4500...
Processing story 2800/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 2601 to 2800
======================================================================
Processed: 2800/4500 stories (62.2%)
Improved in this batch: 189/200 stories
Total improvements so far: 2503/2800 (89.4%)
Batch processing time: 320.4s (1.60s per story)
Estimated remaining time: 45.4 minutes
======================================================================

Processing story 2810/4500...
Processing story 2820/4500...
Processing story 2830/4500...
Processing story 2840/4500...
Processing story 2850/4500...
Processing story 2860/4500...
Processing story 2870/4500...
Processing story 2880/4500...
Processing story 2890/4500...
Processing story 2900/4500...
Processing story 2910/4500...
Processing story 2920/4500...
Processing story 2930/4500...
Processing story 2940/4500...
Processing story 2950/4500...
Processing story 2960/4500...
Processing story 2970/4500...
Processing story 2980/4500...
Processing story 2990/4500...
Processing story 3000/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 2801 to 3000
======================================================================
Processed: 3000/4500 stories (66.7%)
Improved in this batch: 193/200 stories
Total improvements so far: 2696/3000 (89.9%)
Batch processing time: 337.3s (1.69s per story)
Estimated remaining time: 42.2 minutes
======================================================================

Processing story 3010/4500...
Processing story 3020/4500...
Processing story 3030/4500...
Processing story 3040/4500...
Processing story 3050/4500...
Processing story 3060/4500...
Processing story 3070/4500...
Processing story 3080/4500...
Processing story 3090/4500...
Processing story 3100/4500...
Processing story 3110/4500...
Processing story 3120/4500...
Processing story 3130/4500...
Processing story 3140/4500...
Processing story 3150/4500...
Processing story 3160/4500...
Processing story 3170/4500...
Processing story 3180/4500...
Processing story 3190/4500...
Processing story 3200/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 3001 to 3200
======================================================================
Processed: 3200/4500 stories (71.1%)
Improved in this batch: 177/200 stories
Total improvements so far: 2873/3200 (89.8%)
Batch processing time: 299.5s (1.50s per story)
Estimated remaining time: 32.4 minutes
======================================================================

Processing story 3210/4500...
Processing story 3220/4500...
Processing story 3230/4500...
Processing story 3240/4500...
Processing story 3250/4500...
Processing story 3260/4500...
Processing story 3270/4500...
Processing story 3280/4500...
Processing story 3290/4500...
Processing story 3300/4500...
Processing story 3310/4500...
Processing story 3320/4500...
Processing story 3330/4500...
Processing story 3340/4500...
Processing story 3350/4500...
Processing story 3360/4500...
Processing story 3370/4500...
Processing story 3380/4500...
Processing story 3390/4500...
Processing story 3400/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 3201 to 3400
======================================================================
Processed: 3400/4500 stories (75.6%)
Improved in this batch: 173/200 stories
Total improvements so far: 3046/3400 (89.6%)
Batch processing time: 317.4s (1.59s per story)
Estimated remaining time: 29.1 minutes
======================================================================

Processing story 3410/4500...
Processing story 3420/4500...
Processing story 3430/4500...
Processing story 3440/4500...
Processing story 3450/4500...
Processing story 3460/4500...
Processing story 3470/4500...
Processing story 3480/4500...
Processing story 3490/4500...
Processing story 3500/4500...
Processing story 3510/4500...
Processing story 3520/4500...
Processing story 3530/4500...
Processing story 3540/4500...
Processing story 3550/4500...
Processing story 3560/4500...
Processing story 3570/4500...
Processing story 3580/4500...
Processing story 3590/4500...
Processing story 3600/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 3401 to 3600
======================================================================
Processed: 3600/4500 stories (80.0%)
Improved in this batch: 180/200 stories
Total improvements so far: 3226/3600 (89.6%)
Batch processing time: 333.7s (1.67s per story)
Estimated remaining time: 25.0 minutes
======================================================================

Processing story 3610/4500...
Processing story 3620/4500...
Processing story 3630/4500...
Processing story 3640/4500...
Processing story 3650/4500...
Processing story 3660/4500...
Processing story 3670/4500...
Processing story 3680/4500...
Processing story 3690/4500...
Processing story 3700/4500...
Processing story 3710/4500...
Processing story 3720/4500...
Processing story 3730/4500...
Processing story 3740/4500...
Processing story 3750/4500...
Processing story 3760/4500...
Processing story 3770/4500...
Processing story 3780/4500...
Processing story 3790/4500...
Processing story 3800/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 3601 to 3800
======================================================================
Processed: 3800/4500 stories (84.4%)
Improved in this batch: 182/200 stories
Total improvements so far: 3408/3800 (89.7%)
Batch processing time: 335.6s (1.68s per story)
Estimated remaining time: 19.6 minutes
======================================================================

Processing story 3810/4500...
Processing story 3820/4500...
Processing story 3830/4500...
Processing story 3840/4500...
Processing story 3850/4500...
Processing story 3860/4500...
Processing story 3870/4500...
Processing story 3880/4500...
Processing story 3890/4500...
Processing story 3900/4500...
Processing story 3910/4500...
Processing story 3920/4500...
Processing story 3930/4500...
Processing story 3940/4500...
Processing story 3950/4500...
Processing story 3960/4500...
Processing story 3970/4500...
Processing story 3980/4500...
Processing story 3990/4500...
Processing story 4000/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 3801 to 4000
======================================================================
Processed: 4000/4500 stories (88.9%)
Improved in this batch: 167/200 stories
Total improvements so far: 3575/4000 (89.4%)
Batch processing time: 372.0s (1.86s per story)
Estimated remaining time: 15.5 minutes
======================================================================

Processing story 4010/4500...
Processing story 4020/4500...
Processing story 4030/4500...
Processing story 4040/4500...
Processing story 4050/4500...
Processing story 4060/4500...
Processing story 4070/4500...
Processing story 4080/4500...
Processing story 4090/4500...
Processing story 4100/4500...
Processing story 4110/4500...
Processing story 4120/4500...
Processing story 4130/4500...
Processing story 4140/4500...
Processing story 4150/4500...
Processing story 4160/4500...
Processing story 4170/4500...
Processing story 4180/4500...
Processing story 4190/4500...
Processing story 4200/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 4001 to 4200
======================================================================
Processed: 4200/4500 stories (93.3%)
Improved in this batch: 179/200 stories
Total improvements so far: 3754/4200 (89.4%)
Batch processing time: 499.2s (2.50s per story)
Estimated remaining time: 12.5 minutes
======================================================================

Processing story 4210/4500...
Processing story 4220/4500...
Processing story 4230/4500...
Processing story 4240/4500...
Processing story 4250/4500...
Processing story 4260/4500...
Processing story 4270/4500...
Processing story 4280/4500...
Processing story 4290/4500...
Processing story 4300/4500...
Processing story 4310/4500...
Processing story 4320/4500...
Processing story 4330/4500...
Processing story 4340/4500...
Processing story 4350/4500...
Processing story 4360/4500...
Processing story 4370/4500...
Processing story 4380/4500...
Processing story 4390/4500...
Processing story 4400/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 4201 to 4400
======================================================================
Processed: 4400/4500 stories (97.8%)
Improved in this batch: 176/200 stories
Total improvements so far: 3930/4400 (89.3%)
Batch processing time: 458.5s (2.29s per story)
Estimated remaining time: 3.8 minutes
======================================================================

Processing story 4410/4500...
Processing story 4420/4500...
Processing story 4430/4500...
Processing story 4440/4500...
Processing story 4450/4500...
Processing story 4460/4500...
Processing story 4470/4500...
Processing story 4480/4500...
Processing story 4490/4500...
Processing story 4500/4500...

======================================================================
BATCH PROGRESS REPORT - Stories 4401 to 4500
======================================================================
Processed: 4500/4500 stories (100.0%)
Improved in this batch: 87/100 stories
Total improvements so far: 4017/4500 (89.3%)
Batch processing time: 236.5s (2.36s per story)
Estimated remaining time: 0.0 minutes
======================================================================

Generating updated filters...
Saving updated stories and filters...

=== REPROCESSING COMPLETE ===
Total stories processed: 4500
Stories with improved classifications: 4017
Improvement rate: 89.3%

Updated filter counts:
  Umbrellas: 53
  Geographic Areas: 18
  Neighborhoods: 509

Confidence analysis saved to: reprocessing_confidence_analysis.json
